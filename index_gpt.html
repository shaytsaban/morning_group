<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <title>Course Management System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
            secondary: '#64748b',
            accent: '#10b981',
            background: '#f8fafc',
            text: '#1e293b'
          },
          borderRadius: {
            lg: '8px'
          },
          transitionDuration: {
            DEFAULT: '300ms'
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif']
          }
        }
      }
    }
  </script>

  <!-- Inter Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- React 18 -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="h-full bg-background text-text dark:bg-slate-900 dark:text-slate-100">
  <div id="root" class="h-full"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    /* ---------------------------
       Utility Components
    ----------------------------*/

    const Card = ({ children }) => (
      <div class="bg-white dark:bg-slate-800 rounded-lg shadow-sm p-6 transition">
        {children}
      </div>
    );

    const Badge = ({ color, children }) => (
      <span class={`px-2 py-1 rounded text-xs font-semibold bg-${color}-100 text-${color}-700 dark:bg-${color}-900 dark:text-${color}-200`}>
        {children}
      </span>
    );

    const Skeleton = ({ className }) => (
      <div class={`animate-pulse bg-slate-200 dark:bg-slate-700 rounded ${className}`}></div>
    );

    /* ---------------------------
       Chart Component
    ----------------------------*/
    const AnalyticsChart = () => {
      const canvasRef = useRef();

      useEffect(() => {
        const chart = new Chart(canvasRef.current, {
          type: 'line',
          data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
            datasets: [{
              label: 'Active Students',
              data: [120, 190, 300, 280, 350, 420],
              borderColor: '#2563eb',
              backgroundColor: 'rgba(37,99,235,0.1)',
              tension: 0.4,
              fill: true
            }]
          },
          options: {
            plugins: {
              tooltip: {
                backgroundColor: '#1e293b'
              }
            },
            scales: {
              x: { grid: { display: false } },
              y: { grid: { color: 'rgba(0,0,0,0.05)' } }
            }
          }
        });

        return () => chart.destroy();
      }, []);

      return <canvas ref={canvasRef} height="120"></canvas>;
    };

    /* ---------------------------
       Dashboard
    ----------------------------*/
    const Dashboard = () => (
      <div class="grid grid-cols-12 gap-6">
        <div class="col-span-12 md:col-span-4">
          <Card>
            <h3 class="font-semibold mb-2">Total Courses</h3>
            <p class="text-3xl font-semibold text-primary">24</p>
          </Card>
        </div>
        <div class="col-span-12 md:col-span-4">
          <Card>
            <h3 class="font-semibold mb-2">Active Students</h3>
            <p class="text-3xl font-semibold text-accent">1,284</p>
          </Card>
        </div>
        <div class="col-span-12 md:col-span-4">
          <Card>
            <h3 class="font-semibold mb-2">Completion Rate</h3>
            <p class="text-3xl font-semibold">87%</p>
          </Card>
        </div>

        <div class="col-span-12">
          <Card>
            <h3 class="font-semibold mb-4">Analytics Overview</h3>
            <AnalyticsChart />
          </Card>
        </div>
      </div>
    );

    /* ---------------------------
       Courses
    ----------------------------*/
    const Courses = () => (
      <div class="grid grid-cols-12 gap-6">
        {[1,2,3,4].map(i => (
          <div key={i} class="col-span-12 md:col-span-6 lg:col-span-3">
            <Card>
              <div class="h-32 bg-gradient-to-br from-primary to-blue-400 rounded mb-4"></div>
              <h4 class="font-semibold mb-1">Course Title {i}</h4>
              <p class="text-sm text-secondary mb-3">Modern curriculum design</p>
              <div class="w-full bg-slate-200 rounded h-2 overflow-hidden">
                <div class="bg-accent h-full" style={{width: `${i*20}%`}}></div>
              </div>
            </Card>
          </div>
        ))}
      </div>
    );

    /* ---------------------------
       Students Table
    ----------------------------*/
    const Students = () => (
      <Card>
        <h3 class="font-semibold mb-4">Students</h3>
        <table class="w-full text-sm">
          <thead class="text-left text-secondary">
            <tr>
              <th class="py-2">Name</th>
              <th>Status</th>
              <th>Enrolled</th>
            </tr>
          </thead>
          <tbody>
            {['Alice','Bob','Charlie'].map(name => (
              <tr class="border-t border-slate-200 dark:border-slate-700">
                <td class="py-2">{name}</td>
                <td><Badge color="green">Active</Badge></td>
                <td>3 Courses</td>
              </tr>
            ))}
          </tbody>
        </table>
      </Card>
    );

    /* ---------------------------
       Layout
    ----------------------------*/
    const App = () => {
      const [dark, setDark] = useState(false);
      const [view, setView] = useState('dashboard');

      useEffect(() => {
        document.documentElement.classList.toggle('dark', dark);
      }, [dark]);

      return (
        <div class="min-h-full flex">
          <aside class="w-64 bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 p-6">
            <h1 class="font-semibold text-lg mb-6">CMS</h1>
            {['dashboard','courses','students'].map(v => (
              <button
                class={`block w-full text-left px-3 py-2 rounded transition mb-1 ${view===v?'bg-primary text-white':'hover:bg-slate-100 dark:hover:bg-slate-700'}`}
                onClick={()=>setView(v)}
              >
                {v.charAt(0).toUpperCase()+v.slice(1)}
              </button>
            ))}
            <button
              class="mt-6 text-sm text-secondary"
              onClick={()=>setDark(!dark)}
            >
              Toggle Dark Mode
            </button>
          </aside>

          <main class="flex-1 p-8 space-y-8">
            {view === 'dashboard' && <Dashboard />}
            {view === 'courses' && <Courses />}
            {view === 'students' && <Students />}
          </main>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
